-- Creating TB_CUSTOMER_BANKING table
CREATE TABLE TB_CUSTOMER_BANKING (
                                     CUSTOMER_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                                     CUSTOMER_NAME VARCHAR2(255) NOT NULL,
                                     PHONE VARCHAR2(255) NOT NULL UNIQUE,
                                     CUSTOMER_NUMBER VARCHAR2(255) NOT NULL UNIQUE,
                                     NATIONAL_CODE VARCHAR2(255) NOT NULL UNIQUE
);

-- Creating TB_ACCOUNT_BANKING table
CREATE TABLE TB_ACCOUNT_BANKING (
                                    ACCOUNT_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                                    ACCOUNT_NUMBER VARCHAR2(255) NOT NULL,
                                    ACCOUNT_DATE DATE NOT NULL,
                                    ACCOUNT_TYPE NUMBER(10) NOT NULL,
                                    ACCOUNT_AMOUNT NUMBER(19, 2),
                                    ACTIVE_STATUS NUMBER(1) NOT NULL,
                                    CUSTOMER_ID NUMBER NOT NULL,
                                    CONSTRAINT FK_CUSTOMER_ACCOUNT FOREIGN KEY (CUSTOMER_ID) REFERENCES TB_CUSTOMER_BANKING(CUSTOMER_ID)
);

-- Creating TB_TRANSACTION_BANKING table
CREATE TABLE TB_TRANSACTION_BANKING (
                                        TRANSACTION_ID RAW(16) DEFAULT SYS_GUID() PRIMARY KEY,
                                        TRACKING_NO VARCHAR2(255) NOT NULL UNIQUE,
                                        DATE_TIME DATE,
                                        TRANSACTION_TYPE NUMBER(10) NOT NULL,
                                        TO_ACCOUNT_ID NUMBER,
                                        TRANSACTION_AMOUNT NUMBER(19, 2),
                                        ACCOUNT_ID NUMBER,
                                        CONSTRAINT FK_ACCOUNT_TRANSACTION FOREIGN KEY (ACCOUNT_ID) REFERENCES TB_ACCOUNT_BANKING(ACCOUNT_ID)
);


-- Create table for Account
CREATE TABLE TB_ACCOUNT_BANKING (
                                    ACCOUNT_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
                                    ACCOUNT_NUMBER VARCHAR2(255) NOT NULL,
                                    ACCOUNT_DATE DATE NOT NULL,
                                    ACCOUNT_TYPE NUMBER(2) NOT NULL,
                                    ACCOUNT_AMOUNT NUMBER(19, 2),
                                    ACTIVE_STATUS NUMBER(1) NOT NULL,
                                    CUSTOMER_ID NUMBER NOT NULL,
                                    CONSTRAINT PK_ACCOUNT PRIMARY KEY (ACCOUNT_ID)
);

-- Create table for Customer
CREATE TABLE TB_CUSTOMER_BANKING (
                                     CUSTOMER_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
                                     CUSTOMER_NAME VARCHAR2(255) NOT NULL,
                                     PHONE VARCHAR2(20) NOT NULL UNIQUE,
                                     CUSTOMER_NUMBER VARCHAR2(20) NOT NULL UNIQUE,
                                     NATIONAL_CODE VARCHAR2(20) NOT NULL UNIQUE,
                                     CONSTRAINT PK_CUSTOMER PRIMARY KEY (CUSTOMER_ID)
);

-- Create table for Transaction
CREATE TABLE TB_TRANSACTION_BANKING (
                                        TRANSACTION_ID RAW(16) DEFAULT SYS_GUID(),
                                        TRACKING_NO VARCHAR2(255) NOT NULL UNIQUE,
                                        DATE_TIME DATE,
                                        TRANSACTION_TYPE NUMBER(2) NOT NULL,
                                        TO_ACCOUNT_ID NUMBER,
                                        TRANSACTION_AMOUNT NUMBER(19, 2),
                                        TRANSACTION_STATUS NUMBER(2),
                                        ACCOUNT_ID NUMBER,
                                        CONSTRAINT PK_TRANSACTION PRIMARY KEY (TRANSACTION_ID),
                                        CONSTRAINT FK_ACCOUNT FOREIGN KEY (ACCOUNT_ID) REFERENCES TB_ACCOUNT_BANKING (ACCOUNT_ID)
);

-- Create sequence for tracking number
CREATE SEQUENCE tracking_no_seq
    START WITH 1
    INCREMENT BY 1
    CACHE 20;

